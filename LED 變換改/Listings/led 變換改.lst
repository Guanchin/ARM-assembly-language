


ARM Macro Assembler    Page 1 


    1 00000000                 AREA             LED1, CODE, READONLY
    2 00000000                 ENTRY
    3 00000000         
    4 00000000 E3A00101        LDR              r0, =0x40000000 ; CPU = Instruc
                                                            tion Set
    5 00000004         
    6 00000004 E0477007        SUB              r7, r7, r7  ; clear out r7
    7 00000008 E3A06004        MOV              r6, #4      ; start with LED = 
                                                            0b10
    8 0000000C E3A05000        MOV              r5, #0      ; counter
    9 00000010         mainloop                             ; turn on the LED
   10 00000010         ; if bits [9:2] affect the writes, then the address
   11 00000010         ; is offset by 0x38
   12 00000010 E5806038        STR              r6, [r0, #0x38] ; base + 0x38 s
                                                            o [9:2] = 0b0011100
                                                            0
   13 00000014 E3150001        TST              r5, #1
   14 00000018 0A000000        BEQ              RGB
   15 0000001C 1A000003        BNE              BGR
   16 00000020         ;BL     DELAY
   17 00000020         RGB
   18 00000020 E3560040        CMP              r6, #64
   19 00000024         ;ITE    LT
   20 00000024 B1A06106        LSLLT            r6, r6, #2  ; LED = LED * 2
   21 00000028         ;MOVGE  r6, #4               ; reset to 2 otherwise
   22 00000028 A2855001        ADDGE            r5, r5, #1
   23 0000002C EA000002        B                OUT
   24 00000030         BGR
   25 00000030 E3560004        CMP              r6, #4
   26 00000034         ;ITE    LT
   27 00000034 C1A06126        LSRGT            r6, r6, #2  ; LED = LED * 2
   28 00000038         ;MOVLE  r6, #4               ; reset to 2 otherwise
   29 00000038 D2855001        ADDLE            r5, r5, #1
   30 0000003C         
   31 0000003C         OUT
   32 0000003C         
   33 0000003C         ;        LDR     r7, =0xF40000        ; set counter to 0
                       xF40000
   34 0000003C         ;spin
   35 0000003C         ;        SUBS    r7, r7, #1
   36 0000003C         ;        BNE     spin
   37 0000003C         ; change colors
   38 0000003C         
   39 0000003C         ;CMP     r6, #8
   40 0000003C         ;ITE     LT
   41 0000003C         ;LSLLT   r6, r6, #1           ; LED = LED * 2
   42 0000003C         ;MOVGE   r6, #2               ; reset to 2 otherwise
   43 0000003C EAFFFFF3        B                mainloop
   44 00000040         
   45 00000040 E3A0773D 
                       DELAY   LDR              r7, =0xF40000 ;set counter to 0
                                                            xF40000
   46 00000044         spin
   47 00000044 E2577001        SUBS             r7, r7, #1
   48 00000048 1AFFFFFD        BNE              spin
   49 0000004C E12FFF1E        BX               LR
   50 00000050 EAFFFFFE 
                       STOP    B                STOP
   51 00000054                 END



ARM Macro Assembler    Page 2 


Command Line: --debug --xref --diag_suppress=9931 --apcs=interwork --depend=".\
objects\led 跑传э.d" -o".\objects\led 跑传э.o" -IC:\Keil_v5\ARM\RV31\INC -IC:
\Keil_v5\ARM\CMSIS\Include -IC:\Keil_v5\ARM\INC\Philips --predefine="__EVAL SET
A 1" --predefine="__UVISION_VERSION SETA 528" --list=.\listings\led 跑传э.lst 
"LED 跑传э.s"



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

BGR 00000030

Symbol: BGR
   Definitions
      At line 24 in file LED
   Uses
      At line 15 in file LED
Comment: BGR used once
DELAY 00000040

Symbol: DELAY
   Definitions
      At line 45 in file LED
   Uses
      None
Comment: DELAY unused
LED1 00000000

Symbol: LED1
   Definitions
      At line 1 in file LED
   Uses
      None
Comment: LED1 unused
OUT 0000003C

Symbol: OUT
   Definitions
      At line 31 in file LED
   Uses
      At line 23 in file LED
Comment: OUT used once
RGB 00000020

Symbol: RGB
   Definitions
      At line 17 in file LED
   Uses
      At line 14 in file LED
Comment: RGB used once
STOP 00000050

Symbol: STOP
   Definitions
      At line 50 in file LED
   Uses
      At line 50 in file LED
Comment: STOP used once
mainloop 00000010

Symbol: mainloop
   Definitions
      At line 9 in file LED
   Uses
      At line 43 in file LED
Comment: mainloop used once
spin 00000044

Symbol: spin



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols

   Definitions
      At line 46 in file LED
   Uses
      At line 48 in file LED
Comment: spin used once
8 symbols
340 symbols in table
